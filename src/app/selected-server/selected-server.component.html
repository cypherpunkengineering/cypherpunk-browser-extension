<div id="sub-menu">
  <div id="header" routerLink="/" routerLinkActive="active" class="bottom-separator">
    <span class="back-icon">&#x3008;</span>Selected Server
  </div>

  <div class="sorting">
    <div class="server-search">
      <input type="text" [(ngModel)]="searchText">
      <img src="/assets/server-sort/search.png" alt="Search">
    </div>

    <div class="sort-order" (click)="switchServerOrder('alpha')">
      <img src="/assets/server-sort/sort-alpha-asc.png" alt="alphabetical" [ngClass]="{'checked': serverSortOrder === 'alpha'}">
    </div>

    <div class="sort-order" (click)="switchServerOrder('latency')">
      <img src="/assets/server-sort/dashboard.png" alt="Latency" [ngClass]="{'checked': serverSortOrder === 'latency'}">
    </div>

    <div class="sort-order" (click)="switchServerOrder('geo')">
      <img src="/assets/server-sort/globe.png" alt="Geo" [ngClass]="{'checked': serverSortOrder === 'geo'}">
    </div>
  </div>

  <div class="country-select">
    <!-- regions row -->
    <div class="region" *ngIf="serverSortOrder === 'latency'">
      FASTEST
    </div>

    <div class="region" *ngIf="serverSortOrder === 'alpha'">
      ALPHABETICAL
    </div>

    <div *ngFor="let server of currentServers; let i = index;">
      <!-- regions row -->
      <div class="region" *ngIf="serverSortOrder === 'geo' && (i === 0 || (i !== 0 && (currentServers[i-1].region !== server.region)))">
        {{regions[server.region]}}
      </div>

      <div class="location" [ngClass]="{'checked': selectedServerId === server.id, 'disabled': disabledServer(server) }" *ngIf="!searchText || server.name.toLowerCase().indexOf(searchText.toLowerCase()) > -1">
        <!-- server row -->
        <div class="location-row" (click)="selectProxy(server)">
          <span class="flag">
            <img src="{{'/assets/flags/24/' + server.country + '.png' }}" />
          </span>
          <span class="name">{{server.name}}</span>
          <span *ngIf="server.level === 'premium' && server.httpDefault.length" class="premium">Premium</span>
          <span *ngIf="!server.httpDefault.length" class="unavailable">Unavailable</span>
        </div>

        <!-- starring server -->
        <div class="starred">
          <span class="latency-number" *ngIf="server.latency !== 9999">
            {{server.latency + 'ms'}}
          </span>
          <span class="star" (click)="unstarServer(server)" *ngIf="isStarred(server)">&#9733;</span>
          <span class="star" (click)="starServer(server)" *ngIf="!isStarred(server)">&#9734;</span>
        </div>
      </div>

    </div>
  </div>
</div>
