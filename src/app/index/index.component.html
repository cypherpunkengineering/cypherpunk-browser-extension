<div id="index" [ngClass]="{'cypherpunk-on': cypherpunkEnabled, 'cypherpunk-off': !cypherpunkEnabled, 'smart-routing--on': smartRoutingEnabled, 'smart-routing--off': !smartRoutingEnabled}">
  <div id="header__main">
    <img src="/assets/header-logo-big.svg" alt="">
    <a routerLink="/settings" routerLinkActive="active" class="btn__settings"><img src="/assets/icon_settings.svg" alt=""></a>
  </div>
  <!-- <div id="header-on-off" class="bottom-separator" [ngClass]="{'header-off': !cypherpunkEnabled}">
    <div id="logo"><div></div></div>
    <div id="enabled-label">Cypherpunk is {{cypherpunkEnabled ? 'ON' : 'OFF'}}</div>
    <div id="enabled-switch">
      <label class="key-switch">
        <input #enableVpnSwitch [(ngModel)]="cypherpunkEnabled" (ngModelChange)="toggleCypherpunk($event)" type="checkbox" />
        <div class="checkbox"></div>
      </label>
    </div>
  </div> -->

  <!-- Cypherpunk is enabled -->
  <div id="info-connected" *ngIf="cypherpunkEnabled">

    <div id="smart-routing-on-off" class="switch-row bottom-separator">
      <div id="smart-routing-label" class="label">Smart Routing is {{enableSmartRouting.checked ? 'ON' : 'OFF'}}</div>
      <div id="smart-routing-enabled-switch" class="switch">
        <label class="label-switch">
          <input #enableSmartRouting type="checkbox" [(ngModel)]="smartRoutingEnabled" (ngModelChange)="toggleSmartRouting($event)" [disabled]="!cypherpunkEnabled" />
          <div class="checkbox"></div>
        </label>
      </div>
    </div>

    <!-- Smart routing off -->
    <div id="smart-routing-off" class="panel__main" *ngIf="!smartRoutingEnabled">
      <div class="location-info">
        <div class="title">Your<br>Actual Location</div>
        <div class="flag-container">
          <img src="/assets/flags/jp.svg" />
        </div>
        <div class="location">
          <label>Japan</label>
          IP Address: 78.12.34.567
        </div>
      </div>

      <!-- Smart Routing Dropdown -->
      <div class="country-select">
        <div *ngFor="let server of proxySettingsService.serverArr; let i = index; trackBy: trackByFn">
          <div class="region" *ngIf="i === 0 || (!(i === 0) && proxySettingsService.serverArr[i-1].region !== server.region)">
            {{proxySettingsService.regions[server.region]}}
          </div>

          <div class="location-row" (click)="changeProxy(server)" [ngClass]="{'checked': selectedProxy.id === server.id, 'disabled': !server.enabled || !server.httpDefault.length }">
            <span class="flag">
              <img src="{{'/assets/flags/24/' + server.country + '.png' }}" />
            </span>
            <span class="name">{{server.name}}</span>
            <span *ngIf="server.level === 'premium'" class="premium">PREMIUM</span>
            <span *ngIf="!server.httpDefault.length" class="unavailable">UNAVAILABLE</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Smart routing on -->
    <div id="smart-routing-on" class="panel__main" *ngIf="smartRoutingEnabled">
      <div class="flags-wrap">
        <div class="title">Your<br>Public Location</div>
        <div class="location location--mine">
          <div class="flag-container small">
            <img src="/assets/flags/jp.svg" />
          </div>
          <div class="subtitle">Japan</div>
        </div>
        <div class="location location--public" (click)="toggleRoutingDropdown()">
          <div class="flag-container">
            <img src="/assets/flags/us.svg" />
          </div>
          <div class="subtitle bold">
            {{ selectedSmartRouteServerName}}
            <br>
            <!-- <a href="#" (click)="toggleRoutingDropdown()"> -->
              ( {{smartRouteType()}} )
              <div class="arrow--down"><img src="/assets/icon-caret--down.svg" alt=""></div>
            <!-- </a> -->
          </div>
        </div>

        <div class="location last location--destination">
          <div class="flag-container small square">
            <img *ngIf="faviconUrl" src="{{faviconUrl}}" />
          </div>
          <div class="subtitle" [innerHTML]="domain"></div>
        </div>
      </div>

      <div class="scrolling-binary">
        <div class="right">
          01101111 01110010 01101001 01100111 01101001 01101110 01101111 01110010 01101001 01100111
        </div>
        <div class="left">
          01100001 01101100 00100000 01100110 01101111 01110010 01100001 01101100 00100000 01100110
        </div>
      </div>

      <!-- Smart Routing Dropdown -->
      <div class="routing-dd" [ngClass]="{'open': showRoutingDropdown, 'closed': !showRoutingDropdown}">
        <div class="row" (click)="selectSmartRoute('RECOMMENDED')" [ngClass]="{'checked': selectedSmartRouteOpt === 'RECOMMENDED' }">{{smartRouteOpts.recommended.title}}</div>
        <div class="row" (click)="selectSmartRoute('CLOSEST')" [ngClass]="{'checked': selectedSmartRouteOpt === 'CLOSEST' }">{{ proxySettingsService.closestServerName }} (Closest)</div>
        <div class="row" (click)="selectSmartRoute('SELECTED')" [ngClass]="{'checked': selectedSmartRouteOpt === 'SELECTED' }" routerLink="/selected-server" routerLinkActive="active">
          {{ selectedSmartRouteOpt === 'SELECTED' && selectedSmartRouteServer ? 'Selected Server: ' + selectedSmartRouteServer.name : 'Selected Server'}}
          <span class="forward-icon">&#x3009;</span>
        </div>
        <div class="row" (click)="selectSmartRoute('NONE')" [ngClass]="{'checked': selectedSmartRouteOpt === 'NONE' }">{{smartRouteOpts.none.title}}</div>
      </div>

    </div>
  </div>

  <!-- Cypherpunk is disabled -->
  <div id="info-disconnected" *ngIf="!cypherpunkEnabled">
    <div class="title">Cypherpunk is Off</div>
    <div class="button">
      <label class="key-switch">
        <input #enableVpnSwitchLarge [(ngModel)]="cypherpunkEnabled" type="checkbox" (ngModelChange)="toggleCypherpunk($event)" />
        <div class="checkbox large"></div>
      </label>
    </div>
    <div class="subtitle" (click)="cypherpunkEnabled=true">Enable browser protection</div>
  </div>

  <div id="privacy-on-off" class="switch-row top-separator bottom-separator">
    <div id="privacy-label" class="label">Privacy filter for <span [innerHTML]="domain"></span></div>
    <div id="privacy-enabled-switch" class="switch">
      <label class="label-switch">
        <input type="checkbox" [(ngModel)]="privacyFilterSwitch" (ngModelChange)="togglePrivacyFilter($event)" [disabled]="!cypherpunkEnabled" />
        <div class="checkbox"></div>
      </label>
    </div>
  </div>


  <div id="header-on-off" class="" [ngClass]="{'header-off': !cypherpunkEnabled}">
    <!-- <div id="logo"><div></div></div> -->

    <div id="enabled-switch">
      <label class="key-switch">
        <div id="enabled-label">Cypherpunk is {{cypherpunkEnabled ? 'ON' : 'OFF'}}</div>
        <input #enableVpnSwitch [(ngModel)]="cypherpunkEnabled" (ngModelChange)="toggleCypherpunk($event)" type="checkbox" />
        <div class="checkbox"></div>
      </label>
    </div>
  </div>


  <!-- <div id="footer">
    <a routerLink="/advanced-settings" routerLinkActive="active">Advanced Settings</a>
  </div> -->
</div>
