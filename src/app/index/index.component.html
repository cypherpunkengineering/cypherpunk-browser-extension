<div id="index" *ngIf="!showTutorial">

  <!-- Top Header Banner -->
  <div id="header__main">
    <!-- Account link -->
    <div class="account">
      <a routerLink="/account">
        <img class="logo" src="/assets/account.png">
      </a>
    </div>

    <!-- Center Logo -->
    <img class="title" src="/assets/logo.png">

    <!-- Settings link -->
    <div class="settings">
      <a routerLink="/settings">
        <img class="gear" src="/assets/gear.png" alt="">
      </a>
    </div>
  </div>

  <!-- Cypherpunk no proxy screen -->
  <div id="no-proxy-screen" *ngIf="otherExt">
    <div class="title">Protection Disabled</div>

    <div class="icon">
      <img #extIcon src="#" alt="">
    </div>

    <div class="protection-image">
      <img src="/assets/protection-disabled.png" alt="Protection Disabled">
    </div>

    <div class="warning">
      <span>It looks like another browser extension is trying to control your connection.</span>
    </div>

    <div class="instructions">
      <span>
        We recommend you disable <span class="name">{{ otherExt.name }}</span> in your browser <a href="#" (click)="openSettingsPage()"><i>settings.</i></a>
      </span>
    </div>
  </div>

  <!-- Cypherpunk is enabled screen -->
  <div id="on-screen" *ngIf="!otherExt">
    <!-- Server Listing -->
    <div class="location-list" [ngClass]="{'hidden': !showLocationList}">
      <!-- Server listing header -->
      <div class="header">
        <div class="title" *ngIf="!cypherpunkEnabled">Connect To</div>
        <div class="title" *ngIf="cypherpunkEnabled">Connected To</div>

        <div class="cypherplay" *ngIf="cypherpunkEnabled && serverName === 'Cypherplay™'">
          <img src="/assets/icon_cypherplay@2x.png">
          Cypherplay&trade;
        </div>
        <div class="location" [ngClass]="{'premium': serverLevel === 'premium', 'free': serverLevel === 'free', 'developer': serverLevel === 'developer'}" *ngIf="cypherpunkEnabled && serverName !== 'Cypherplay™'">

          <img class="flag" src="{{serverFlag}}" />

          <span>{{serverName}}</span>
        </div>

        <div class="title" *ngIf="cypherpunkEnabled">Switch To</div>
      </div>

      <!-- Server Listing -->
      <div class="list">
        <!-- Cypherplay -->
        <div class="cypherplay" [ngClass]="{'selected': (serverName === 'Cypherplay™') && cypherpunkEnabled}" (click)="setServerDetails({ name: 'cypherplay'})">
          <img src="/assets/icon_cypherplay@2x.png">
          Cypherplay&trade;
          <span>AUTO</span>
        </div>

        <!-- Servers -->
        <ng-container *ngFor="let server of servers; let i = index;">
          <!-- regions row -->
          <div class="header" *ngIf="(i === 0 || (i !== 0 && (servers[i-1].region !== server.region)))">
            {{regions[server.region]}}
          </div>

          <div class="location" [ngClass]="{'disabled': disabledServer(server), 'premium': !disabledServer(server) && server.level === 'premium', 'free': !disabledServer(server) && server.level === 'free', 'developer': !disabledServer(server) && server.level === 'developer', 'selected': (serverName === server.name) && cypherpunkEnabled }" (click)="setServerDetails(server)">

            <img class="flag" src="{{'/assets/flags/24/' + server.country + '.png' }}" />

            <span [attr.data-tag]="parseServerLevel(server)">{{server.name}}</span>

            <span class="ping-time"*ngIf="server.latency < 9999">{{server.latency + 'ms'}}</span>
          </div>
        </ng-container>
      </div>

      <!-- Server listing footer -->
      <div class="footer">
        <span class="back" (click)="toggleLocationList(false)">
          <i class="chevron left icon"></i>
          Back
        </span>
      </div>
    </div>

    <!-- Main Screen Content -->
    <div class="connect-button off disconnected" (click)="toggleCypherpunk(!cypherpunkEnabled)" [ngClass]="{'on': cypherpunkEnabled, 'off': !cypherpunkEnabled, 'connecting': cypherpunkConnecting, 'connected': cypherpunkEnabled, 'disconnected': !cypherpunkEnabled, 'hidden': showLocationList }">
      <div class="bg">
        <div class="pipe"></div>
        <div class="dot"></div>
        <div class="frame"></div>
      </div>

      <div class="slider"></div>

      <div class="knob"></div>
    </div>

    <div class="connect-status" [ngClass]="{'hidden': showLocationList}">
      <span>Status</span>
      <span>{{ connectionStatus }}</span>
    </div>

    <div class="location-selector" [ngClass]="{'hidden': showLocationList}" (click)="toggleLocationList(true)">
      <div class="location">
        <img class="flag" src="{{serverFlag}}">
        <span>{{serverName}}</span>
      </div>
    </div>

    <!--
    <div class="scrolling-binary">
      <div class="right">
        <span style="color: #31afb7">x</span>
        <span style="color: #5d25b1">`</span>
        <span style="color: #a5c509">8 </span>
        <span style="color: #008000">0 </span>
        <span style="color: #5d25b1"># </span>
        <span style="color: #31afb7">= </span>
        <span style="color: #ce1a1a">v </span>
        <span style="color: #008000">7 </span>
        <span style="color: #fff">m</span>
        <span style="color: #5d25b1">b</span>
        <span style="color: #a5c509">" </span>
        <span style="color: #008000">| </span>
        <span style="color: #fff">y </span>
        <span style="color: #5d25b1">9 </span>
        <span style="color: #a5c509"># </span>
        <span style="color: #5d25b1">8 </span>
        <span style="color: #ce1a1a">M </span>
        <span style="color: #31afb7">] </span>
        <span style="color: #a97619">_ </span>
        <span style="color: #a5c509">+ </span>
        <span style="color: #008000">k</span>
        <span style="color: #a97619">l </span>
        <span style="color: #ce1a1a">$ </span>
        <span style="color: #5d25b1">#</span>
        <span style="color: #a97619">m</span>
        <span style="color: #fff">n </span>
        <span style="color: #31afb7">x </span>
        <span style="color: #008000">-</span>
        <span style="color: #31afb7">( </span>
        <span style="color: #a97619">]</span>
        <span style="color: #a5c509">e </span>
        <span style="color: #5d25b1">f </span>
        <span style="color: #008000">l</span>
        <span style="color: #fff">]</span>
        <span style="color: #ce1a1a">> </span>
        <span style="color: #31afb7">! </span>
        <span style="color: #5d25b1">0</span>
        <span style="color: #a97619">3 </span>
        <span style="color: #008000">@</span>
        <span style="color: #a5c509">j</span>
        <span style="color: #ce1a1a">n</span>
        <span style="color: #31afb7">o </span>
        <span style="color: #008000">x</span>
        <span style="color: #a97619">~</span>
        <span style="color: #a5c509">`</span>
        <span style="color: #fff">.</span>
        <span style="color: #31afb7">x</span>
        <span style="color: #5d25b1">l </span>
        <span style="color: #ce1a1a">t</span>
        <span style="color: #008000">y</span>
        <span style="color: a97619">]</span>
        <span style="color: 31afb7">[</span>
        <span style="color: fff">s</span>
        <span style="color: ce1a1a">x </span>
        <span style="color: 008000">k </span>
        <span style="color: 5d25b1">j </span>

        <span style="color: #31afb7">x</span>
        <span style="color: #5d25b1">`</span>
        <span style="color: #a5c509">8 </span>
        <span style="color: #008000">0 </span>
        <span style="color: #5d25b1"># </span>
        <span style="color: #31afb7">= </span>
        <span style="color: #ce1a1a">v </span>
        <span style="color: #008000">7 </span>
        <span style="color: #fff">m</span>
        <span style="color: #5d25b1">b</span>
        <span style="color: #a5c509">" </span>
        <span style="color: #008000">| </span>
        <span style="color: #fff">y </span>
        <span style="color: #5d25b1">9 </span>
        <span style="color: #a5c509"># </span>
        <span style="color: #5d25b1">8 </span>
        <span style="color: #ce1a1a">M </span>
        <span style="color: #31afb7">] </span>
        <span style="color: #a97619">_ </span>
        <span style="color: #a5c509">+ </span>
        <span style="color: #008000">k</span>
        <span style="color: #a97619">l </span>
        <span style="color: #ce1a1a">$ </span>
        <span style="color: #5d25b1">#</span>
        <span style="color: #a97619">m</span>
        <span style="color: #fff">n </span>
        <span style="color: #31afb7">x </span>
        <span style="color: #008000">-</span>
        <span style="color: #31afb7">( </span>
        <span style="color: #a97619">]</span>
        <span style="color: #a5c509">e </span>
        <span style="color: #5d25b1">f </span>
        <span style="color: #008000">l</span>
        <span style="color: #fff">]</span>
        <span style="color: #ce1a1a">> </span>
        <span style="color: #31afb7">! </span>
        <span style="color: #5d25b1">0</span>
        <span style="color: #a97619">3 </span>
        <span style="color: #008000">@</span>
        <span style="color: #a5c509">j</span>
        <span style="color: #ce1a1a">n</span>
        <span style="color: #31afb7">o </span>
        <span style="color: #008000">x</span>
        <span style="color: #a97619">~</span>
        <span style="color: #a5c509">`</span>
        <span style="color: #fff">.</span>
        <span style="color: #31afb7">x</span>
        <span style="color: #5d25b1">l </span>
        <span style="color: #ce1a1a">t</span>
        <span style="color: #008000">y</span>
        <span style="color: a97619">]</span>
        <span style="color: 31afb7">[</span>
        <span style="color: fff">s</span>
        <span style="color: ce1a1a">x </span>
        <span style="color: 008000">k </span>
        <span style="color: 5d25b1">j </span>
      </div>
      <div class="left">
        <span style="color: #31afb7">d</span>
        <span style="color: #5d25b1">s</span>
        <span style="color: #a5c509">K </span>
        <span style="color: #008000">7 </span>
        <span style="color: #5d25b1">& </span>
        <span style="color: #31afb7">[ </span>
        <span style="color: #ce1a1a">*</span>
        <span style="color: #008000">h </span>
        <span style="color: #fff">^</span>
        <span style="color: #5d25b1">% </span>
        <span style="color: #a5c509">u </span>
        <span style="color: #008000">x </span>
        <span style="color: #fff">5 </span>
        <span style="color: #5d25b1">8 </span>
        <span style="color: #a5c509">0</span>
        <span style="color: #5d25b1">0</span>
        <span style="color: #ce1a1a">M</span>
        <span style="color: #31afb7">< </span>
        <span style="color: #a97619">K</span>
        <span style="color: #a5c509">! </span>
        <span style="color: #008000">@ </span>
        <span style="color: #a97619">&</span>
        <span style="color: #ce1a1a">6</span>
        <span style="color: #5d25b1">^</span>
        <span style="color: #a97619">d </span>
        <span style="color: #fff">j</span>
        <span style="color: #31afb7">k</span>
        <span style="color: #008000">n </span>
        <span style="color: #31afb7">7</span>
        <span style="color: #a97619">0 </span>
        <span style="color: #a5c509">:</span>
        <span style="color: #5d25b1">9</span>
        <span style="color: #008000">3</span>
        <span style="color: #fff">j</span>
        <span style="color: #ce1a1a">x </span>
        <span style="color: #31afb7">p</span>
        <span style="color: #5d25b1">0 </span>
        <span style="color: #a97619">b</span>
        <span style="color: #008000">x</span>
        <span style="color: #a5c509">, </span>
        <span style="color: #ce1a1a">8</span>
        <span style="color: #31afb7">9</span>
        <span style="color: #008000">0 </span>
        <span style="color: #a97619">Q</span>
        <span style="color: #a5c509">w </span>
        <span style="color: #fff">;</span>
        <span style="color: #31afb7">é </span>
        <span style="color: #5d25b1">" </span>
        <span style="color: #ce1a1a">></span>
        <span style="color: #008000">?</span>
        <span style="color: a97619">7 </span>
        <span style="color: 31afb7">9 </span>
        <span style="color: fff">3</span>
        <span style="color: ce1a1a">@ </span>
        <span style="color: 008000">[ </span>
        <span style="color: 5d25b1">5 </span>

        <span style="color: #31afb7">d</span>
        <span style="color: #5d25b1">s</span>
        <span style="color: #a5c509">K </span>
        <span style="color: #008000">7 </span>
        <span style="color: #5d25b1">& </span>
        <span style="color: #31afb7">[ </span>
        <span style="color: #ce1a1a">*</span>
        <span style="color: #008000">h </span>
        <span style="color: #fff">^</span>
        <span style="color: #5d25b1">% </span>
        <span style="color: #a5c509">u </span>
        <span style="color: #008000">x </span>
        <span style="color: #fff">5 </span>
        <span style="color: #5d25b1">8 </span>
        <span style="color: #a5c509">0</span>
        <span style="color: #5d25b1">0</span>
        <span style="color: #ce1a1a">M</span>
        <span style="color: #31afb7">< </span>
        <span style="color: #a97619">K</span>
        <span style="color: #a5c509">! </span>
        <span style="color: #008000">@ </span>
        <span style="color: #a97619">&</span>
        <span style="color: #ce1a1a">6</span>
        <span style="color: #5d25b1">^</span>
        <span style="color: #a97619">d </span>
        <span style="color: #fff">j</span>
        <span style="color: #31afb7">k</span>
        <span style="color: #008000">n </span>
        <span style="color: #31afb7">7</span>
        <span style="color: #a97619">0 </span>
        <span style="color: #a5c509">:</span>
        <span style="color: #5d25b1">9</span>
        <span style="color: #008000">3</span>
        <span style="color: #fff">j</span>
        <span style="color: #ce1a1a">x </span>
        <span style="color: #31afb7">p</span>
        <span style="color: #5d25b1">0 </span>
        <span style="color: #a97619">b</span>
        <span style="color: #008000">x</span>
        <span style="color: #a5c509">, </span>
        <span style="color: #ce1a1a">8</span>
        <span style="color: #31afb7">9</span>
        <span style="color: #008000">0 </span>
        <span style="color: #a97619">Q</span>
        <span style="color: #a5c509">w </span>
        <span style="color: #fff">;</span>
        <span style="color: #31afb7">é </span>
        <span style="color: #5d25b1">" </span>
        <span style="color: #ce1a1a">></span>
        <span style="color: #008000">?</span>
        <span style="color: a97619">7 </span>
        <span style="color: 31afb7">9 </span>
        <span style="color: fff">3</span>
        <span style="color: ce1a1a">@ </span>
        <span style="color: 008000">[ </span>
        <span style="color: 5d25b1">5 </span>
      </div>
    </div>
    -->
  </div>
</div>

<!-- Tutorial Component - Visible on initial run -->
<app-tutorial *ngIf="showTutorial" (tutorialVisible)="tutorialVisible($event)"></app-tutorial>
